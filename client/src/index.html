<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Valerix Control Panel</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="header">
      <h1>Valerix Control Panel</h1>
      <p>Test Orders, Inventory, Health, Metrics, and Gremlin latency.</p>
    </header>

    <main class="grid">
      <section class="card">
        <h2>Gateway & Services</h2>
        <label class="label">API Base URL</label>
        <input id="baseUrl" class="input" value="http://139.59.86.35:3000" />
        <div class="row">
          <button id="checkHealth" class="btn">Check Health</button>
          <button id="fetchMetrics" class="btn btn-secondary">Fetch Metrics</button>
        </div>
        <div class="status">
          <div>Order Health: <span id="orderHealth" class="pill">Unknown</span></div>
          <div>Inventory Health: <span id="inventoryHealth" class="pill">Unknown</span></div>
        </div>
      </section>

      <section class="card">
        <h2>Create Order</h2>
        <label class="label">Customer ID</label>
        <input id="customerId" class="input" value="demo-user" />

        <div class="row">
          <div style="flex: 1;">
            <label class="label">Product ID</label>
            <input type="number" id="orderProductId" class="input" value="1" placeholder="Type 1, 2, 3..." />
          </div>
          <div style="flex: 1;">
            <label class="label">Quantity</label>
            <input type="number" id="orderQty" class="input" value="1" min="1" />
          </div>
        </div>

        <div class="row">
          <button id="placeOrder" class="btn">Place Order</button>
          <button id="gremlinTest" class="btn btn-warning">Gremlin Test (x4)</button>
        </div>
      </section>

      <section class="card">
        <h2>Inventory Reserve (Direct)</h2>
        <div class="row">
          <div style="flex: 1;">
            <label class="label">Product ID</label>
            <input type="number" id="reserveProductId" class="input" value="1" />
          </div>
          <div style="flex: 1;">
            <label class="label">Quantity</label>
            <input type="number" id="reserveQty" class="input" value="1" />
          </div>
        </div>
        <button id="reserveItems" class="btn">Reserve Items</button>
      </section>

      <section class="card">
        <h2>Increase Inventory</h2>
        <div class="row">
          <div style="flex: 1;">
            <label class="label">Product ID</label>
            <input type="number" id="addProductId" class="input" value="1" />
          </div>
          <div style="flex: 1;">
            <label class="label">Quantity</label>
            <input type="number" id="addQty" class="input" value="5" />
          </div>
        </div>
        <div class="row">
          <div style="flex: 1;">
            <label class="label">Product Name (optional)</label>
            <input id="addName" class="input" placeholder="Wireless Gaming Mouse" />
          </div>
          <div style="flex: 1;">
            <label class="label">Price (optional)</label>
            <input type="number" id="addPrice" class="input" placeholder="49.99" step="0.01" />
          </div>
        </div>
        <button id="addStock" class="btn btn-secondary">Add Stock</button>
      </section>

    </main>

    <section class="card full">
      <h2>Logs</h2>
      <div id="log" class="log"></div>
    </section>

    <section class="card full">
      <h2>Metrics Output</h2>
      <pre id="metrics" class="metrics">No metrics loaded.</pre>
    </section>

    <script src="./app.js"></script>
  </body>
</html>
